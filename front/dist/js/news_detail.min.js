function NewsList(){var e=this;e.page=2,e.category_id=0,e.loadBtn=$("#load-more-btn"),template.defaults.imports.timeSince=function(e){var t=new Date(e),n=t.getTime(),s=((new Date).getTime()-n)/1e3;return s<60?"刚刚":60<=s&&s<3600?(minutes=parseInt(s/60),minutes+"分钟前"):3600<=s&&s<86400?(hours=parseInt(s/60/60),hours+"小时前"):86400<=s&&s<2592e3?(days=parseInt(s/60/60/24),days+"天前"):t.getFullYear()+"/"+t.getMonth()+"/"+t.getDate()+t.getHours()+":"+t.getMinutes()}}NewsList.prototype.listenSubmitEvent=function(){var n=$(".submit-btn"),s=$("textarea[name='comment']");n.click(function(){var e=s.val(),t=n.attr("data-news-id");console.log(t),xfzajax.post({url:"/news/public_comment/",data:{content:e,news_id:t},success:function(e){if(console.log(e.data),200===e.code){var t=e.data,n=template("comment-item",{comment:t});$(".comment-list").prepend(n),window.messageBox.showSuccess("评论发表成功！"),s.val("")}else window.messageBox.showError(e.message)}})})},NewsList.prototype.run=function(){this.listenSubmitEvent()},$(function(){(new NewsList).run()});